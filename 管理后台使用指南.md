# BBK数学答题王 - 管理后台使用指南 📚

## 访问地址

启动服务器后,访问管理后台:
```
http://localhost:3000/admin.html
```

部署到线上后:
```
https://你的域名/admin.html
```

---

## 功能模块

### 1. 👥 学生管理

#### 功能:
- ✅ 查看所有学生信息
- ✅ 添加新学生
- ✅ 编辑学生信息
- ✅ 删除学生
- ✅ 搜索学生
- ✅ 查看统计(总学生数、班级数)

#### 操作步骤:

**添加学生:**
1. 点击"➕ 添加学生"按钮
2. 填写班级、姓名、账号
3. 点击"保存"

**编辑学生:**
1. 找到要编辑的学生
2. 点击"编辑"按钮
3. 修改信息
4. 点击"保存"

**删除学生:**
1. 找到要删除的学生
2. 点击"删除"按钮
3. 确认删除

**搜索学生:**
- 在搜索框输入班级名、姓名或账号即可实时筛选

---

### 2. 📝 题目管理

#### 功能:
- ✅ 查看所有题目
- ✅ 添加新题目
- ✅ 编辑题目
- ✅ 删除题目
- ✅ 按难度筛选
- ✅ 搜索题目
- ✅ 查看统计(总题数、各难度题数)

#### 操作步骤:

**添加题目:**
1. 点击"➕ 添加题目"按钮
2. 填写:
   - 题目内容
   - 答案
   - 解析
   - 难度(简单/中等/困难)
3. 点击"保存"

**编辑题目:**
1. 找到要编辑的题目
2. 点击"编辑"按钮
3. 修改信息
4. 点击"保存"

**删除题目:**
1. 找到要删除的题目
2. 点击"删除"按钮
3. 确认删除

**筛选题目:**
- 使用难度下拉框选择难度
- 在搜索框输入题目内容或答案

---

### 3. 📊 用户数据

#### 功能:
- ✅ 查看所有用户游戏数据
- ✅ 查看用户详细信息(等级、元素、错题)
- ✅ 删除用户数据
- ✅ 按班级筛选
- ✅ 搜索用户

#### 操作步骤:

**查看用户详情:**
1. 找到要查看的用户
2. 点击"查看详情"按钮
3. 查看:
   - 基本信息(班级、姓名、等级)
   - 元素统计
   - 错题记录数量

**删除用户数据:**
1. 找到要删除的用户
2. 点击"删除"按钮
3. 确认删除
4. ⚠️ 注意: 只删除游戏数据,不删除学生信息

**筛选用户:**
- 选择班级进行筛选
- 在搜索框输入用户名

---

### 4. 📤 批量导入

#### 功能:
- ✅ 批量导入学生
- ✅ 批量导入题目
- ✅ 从文件导入

---

#### A. 批量导入学生

**文本格式导入:**

在文本框中输入,格式为: `班级,姓名,账号` (每行一个)

示例:
```
一班,张三,zs001
一班,李四,ls001
二班,王五,ww002
二班,赵六,zl002
```

点击"导入学生"即可。

---

#### B. 批量导入题目

**文本格式导入:**

在文本框中输入,格式为: `题目|答案|解析|难度` (用 | 分隔)

示例:
```
计算: 25 + 37 = ?|62|25 + 37 = 62|简单
计算: 89 - 43 = ?|46|89 - 43 = 46|简单
计算: (8 + 4) × 3 = ?|36|先算括号内: 8 + 4 = 12, 再乘3: 12 × 3 = 36|中等
解方程: 2x + 5 = 15|5|2x = 10, x = 5|困难
```

点击"导入题目"即可。

---

#### C. 从文件导入

**支持格式:**
- `.txt` - 纯文本文件
- `.csv` - Excel导出的CSV文件
- `.json` - JSON格式文件

**操作步骤:**
1. 准备好格式正确的文件
2. 点击"📁 选择文件"
3. 选择文件类型(学生数据/题目数据)
4. 点击"上传并导入"

**文件格式示例:**

学生数据 (students.txt):
```
一班,张三,zs001
一班,李四,ls001
二班,王五,ww002
```

题目数据 (questions.txt):
```
计算: 25 + 37 = ?|62|25 + 37 = 62|简单
计算: 89 - 43 = ?|46|89 - 43 = 46|简单
```

---

### 5. 📦 数据备份和导出

#### 备份数据
- 点击顶部"📦 备份数据"按钮
- 自动在服务器上创建备份文件
- 文件名格式: `backup_YYYY-MM-DD-HH-mm-ss.json`

#### 导出所有数据
- 点击顶部"📥 导出所有数据"按钮
- 下载包含所有数据的JSON文件
- 包括: 学生信息、题目、用户数据、播报记录

---

## 批量题目准备技巧

### 方法1: Excel制作题库

1. 在Excel中创建表格:
   | 题目 | 答案 | 解析 | 难度 |
   |------|------|------|------|
   | 计算: 25 + 37 = ? | 62 | 25 + 37 = 62 | 简单 |
   | 计算: 89 - 43 = ? | 46 | 89 - 43 = 46 | 简单 |

2. 保存为CSV文件

3. 在记事本打开,把逗号改为 `|`

4. 复制到批量导入文本框

---

### 方法2: 使用模板快速生成

复制以下模板,修改内容:

```
计算: ____ + ____ = ?|答案|解析|简单
计算: ____ - ____ = ?|答案|解析|简单
计算: ____ × ____ = ?|答案|解析|中等
计算: ____ ÷ ____ = ?|答案|解析|中等
```

---

### 方法3: 从Word文档转换

如果你有Word格式的题目:

1. 整理成以下格式:
   ```
   1. 题目内容
   答案: XXX
   解析: XXX
   ```

2. 用查找替换功能转换为导入格式

3. 复制到批量导入文本框

---

## 数据管理最佳实践

### ✅ 定期备份
- 建议每周备份一次数据
- 重要数据修改前先备份

### ✅ 题目分类
- 使用难度标签区分题目
- 简单: 基础计算题
- 中等: 多步骤计算、应用题
- 困难: 综合题、思维题

### ✅ 学生信息规范
- 账号统一格式: 拼音首字母 + 班级编号
- 例: 张三 → zs001, 李四 → ls001

### ✅ 题目质量控制
- 确保答案准确
- 解析清晰易懂
- 定期检查题目错误率

---

## 常见问题

### Q1: 导入数据失败?
- 检查格式是否正确
- 确保分隔符正确(学生用逗号,题目用 |)
- 检查是否有空行

### Q2: 编辑后数据没变化?
- 刷新页面重新加载
- 检查服务器是否正常运行

### Q3: 删除数据能恢复吗?
- 删除前会有确认提示
- 建议删除前先备份
- 可以从备份文件恢复

### Q4: 如何快速添加大量题目?
- 推荐使用批量导入功能
- 可以从Excel整理后导入
- 或从文件直接导入

### Q5: 用户数据会丢失吗?
- 所有数据自动保存到服务器
- 建议定期备份
- 云部署建议使用数据库

---

## 数据文件位置

- 学生信息: `students.json`
- 题目数据: `questions.json`
- 用户游戏数据: `data.json`
- 备份文件: `backup_*.json`

---

## 安全建议

### 🔒 保护管理后台
- 生产环境建议添加登录验证
- 不要公开分享管理后台地址
- 定期更改管理员密码(如果设置了)

### 🔒 数据安全
- 定期备份到本地
- 重要数据多地备份
- 使用版本控制(Git)管理配置文件

---

## 高级用法

### 导出特定班级数据
1. 在用户数据中按班级筛选
2. 手动记录或截图
3. 或使用导出功能后筛选JSON

### 批量修改题目难度
1. 导出所有数据
2. 在文本编辑器中查找替换
3. 重新导入

### 数据迁移
1. 在旧服务器导出所有数据
2. 在新服务器导入
3. 验证数据完整性

---

**祝你使用愉快! 🎉**

如有问题,请查看主文档 `README.md` 或联系技术支持。
