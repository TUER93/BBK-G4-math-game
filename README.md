# BBK数学答题王 🎓

一款多用户在线数学答题游戏,支持元素收集、挑战模式、赠送系统、升级系统和排行榜功能。

## 功能特性 ✨

### 1. 登录系统
- 选择班级
- 选择班级内的姓名
- 输入账号验证(账号必须与姓名对应)

### 2. 答题系统
- **登录后自动开始答题** 🚀
- 数字键盘输入答案(0-9和负号)
- 答对获得随机元素(火🔥、水💧、风🌪️、岩🪨、草🌿、雷⚡、冰❄️)
- 雷⚡和火🔥为稀有元素(概率15%和20%)
- **答对后2秒自动进入下一题** ⚡
- 答错显示正确答案和解析,15秒冷却后自动继续答题
- 全自动流程,无需点击"下一题"按钮

### 3. 挑战模式 ⚔️
- 消耗元素: 火×1、水×1、风×1、岩×1、草×1
- 60秒限时答题
- 成功获得稀有元素奖励(雷⚡或火🔥)

### 4. 元素系统
- 7种元素实时显示
- 元素数量统计
- 元素可用于挑战、升级、赠送

### 5. 升级系统 ⬆️
- 升级条件: 雷⚡×1、火🔥×1、其他元素共10个
- 等级影响排行榜排名

### 6. 赠送功能 🎁
- 选择班级和同学
- 选择元素类型和数量
- 跨班级赠送支持

### 7. 错题本 📝
- 记录所有错题
- 显示答案和解析
- 支持下载错题本

### 8. 排行榜 🏆
- 班级排行
- 总榜排行
- 按等级从高到低排序

### 9. 实时播报 📢
- 实时显示各班学生答题和获取元素的动态

### 10. 音效系统 🔊 (NEW)
- 循环播放背景音乐
- 答对音效
- 连杀音效(双杀/三杀/四杀/五杀)
- 静音控制

## 安装和运行 🚀

### 1. 安装依赖
```bash
npm install
```

### 2. 启动服务器
```bash
npm start
```

或者使用开发模式(自动重启):
```bash
npm run dev
```

### 3. 访问游戏
- 游戏地址: `http://localhost:3000`
- **管理后台: `http://localhost:3000/admin.html`**

### 4. 准备音频文件(可选)
将音频文件放到 `audio` 文件夹:
- 游戏背景音乐.mp3
- 太棒了.mp3、双杀.mp3、三杀.mp3、四杀.mp3、五杀.mp3

详见: **[音效系统说明.md](音效系统说明.md)**

## 文件说明 📁

- `index.html` - 游戏主页面
- `styles.css` - 游戏样式文件
- `app.js` - 游戏前端逻辑
- `audio-manager.js` - **音频管理系统**
- `admin.html` - **管理后台页面**
- `admin-style.css` - **管理后台样式**
- `admin.js` - **管理后台逻辑**
- `server.js` - 后端服务器
- `students.json` - 学生信息配置
- `questions.json` - 题库配置
- `data.json` - 游戏数据(自动生成)
- `audio/` - **音频文件文件夹**
- `管理后台使用指南.md` - **管理后台详细文档**
- `音效系统说明.md` - **音效系统详细文档**

## 配置说明 ⚙️

### 🎯 使用管理后台 (推荐)

访问 `http://localhost:3000/admin.html` 可视化管理:
- ✅ 学生信息管理(增删改查)
- ✅ 题目库管理(增删改查)
- ✅ 用户数据查看
- ✅ 批量导入(文本/文件)
- ✅ 数据备份和导出

详细使用方法见: **[管理后台使用指南.md](管理后台使用指南.md)**

---

### 手动编辑配置文件

#### 添加学生
编辑 `students.json` 文件:
```json
{
  "className": "一班",
  "name": "张三",
  "account": "zs001"
}
```

### 添加题目
编辑 `questions.json` 文件:
```json
{
  "id": 1,
  "question": "计算: 25 + 37 = ?",
  "answer": "62",
  "explanation": "25 + 37 = 62"
}
```

### 修改服务器端口
在 `server.js` 中修改 `PORT` 变量,同时在 `app.js` 中修改 `SERVER_URL`。

## 元素掉落概率 🎲

- 雷⚡: 15% (稀有 → 已提高)
- 火🔥: 20% (稀有 → 已提高)
- 水💧: 15%
- 风🌪️: 15%
- 岩🪨: 15%
- 草🌿: 15%
- 冰❄️: 5%

## 技术栈 💻

- **前端**: HTML5, CSS3, JavaScript (原生)
- **后端**: Node.js + Express
- **数据存储**: JSON文件

## 多用户访问 🌐

本游戏支持多用户同时访问:
1. 确保服务器运行在局域网可访问的地址
2. 修改 `app.js` 中的 `SERVER_URL` 为服务器IP地址
3. 用户通过 `http://服务器IP:3000` 访问

示例:
```javascript
const SERVER_URL = 'http://192.168.1.100:3000';
```

## 注意事项 ⚠️

1. 首次运行会自动创建 `data.json` 文件
2. 学生数据和游戏进度会自动保存
3. 建议定期备份 `data.json` 文件
4. 修改题库后无需重启服务器

## 开发建议 🔧

- 可以扩展更多题型(选择题、填空题等)
- 可以添加成就系统
- 可以添加每日签到奖励
- 可以添加好友系统
- 可以集成真实数据库(MySQL/MongoDB)

## 许可证 📄

MIT License

---

祝你游戏愉快! 🎉
"#BBK-G4-math-game" 
