<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>éŸ³æ•ˆæµ‹è¯•å·¥å…· - BBKæ•°å­¦ç­”é¢˜ç‹</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: "Microsoft YaHei", Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 800px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        h1 {
            text-align: center;
            color: #667eea;
            margin-bottom: 30px;
        }
        
        .section {
            margin-bottom: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }
        
        .section h2 {
            color: #333;
            margin-bottom: 15px;
            font-size: 18px;
        }
        
        .test-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            margin: 5px;
            font-size: 14px;
            transition: all 0.3s;
        }
        
        .test-btn:hover {
            background: #5568d3;
            transform: translateY(-2px);
        }
        
        .test-btn:active {
            transform: translateY(0);
        }
        
        .status {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            font-size: 14px;
        }
        
        .status.success {
            background: #d4edda;
            color: #155724;
        }
        
        .status.error {
            background: #f8d7da;
            color: #721c24;
        }
        
        .status.info {
            background: #d1ecf1;
            color: #0c5460;
        }
        
        .audio-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }
        
        .result-box {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            border-left: 4px solid #667eea;
        }
        
        .result-item {
            padding: 5px 0;
            border-bottom: 1px solid #eee;
        }
        
        .result-item:last-child {
            border-bottom: none;
        }
        
        .badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 12px;
            margin-left: 10px;
        }
        
        .badge.ok {
            background: #28a745;
            color: white;
        }
        
        .badge.fail {
            background: #dc3545;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸµ éŸ³æ•ˆç³»ç»Ÿè¯Šæ–­å·¥å…·</h1>
        
        <!-- åŸºç¡€æ£€æµ‹ -->
        <div class="section">
            <h2>ğŸ“‹ ç¬¬ä¸€æ­¥ï¼šåŸºç¡€æ£€æµ‹</h2>
            <button class="test-btn" onclick="checkBasic()">å¼€å§‹æ£€æµ‹</button>
            <div id="basicResult"></div>
        </div>
        
        <!-- æ–‡ä»¶æ£€æµ‹ -->
        <div class="section">
            <h2>ğŸ“ ç¬¬äºŒæ­¥ï¼šæ£€æµ‹éŸ³é¢‘æ–‡ä»¶</h2>
            <button class="test-btn" onclick="checkAudioFiles()">æ£€æµ‹æ‰€æœ‰éŸ³é¢‘æ–‡ä»¶</button>
            <div id="fileResult"></div>
        </div>
        
        <!-- æ’­æ”¾æµ‹è¯• -->
        <div class="section">
            <h2>ğŸ”Š ç¬¬ä¸‰æ­¥ï¼šæ’­æ”¾æµ‹è¯•</h2>
            <div class="audio-list">
                <button class="test-btn" onclick="playAudio('audio/correct.mp3')">å¤ªæ£’äº†</button>
                <button class="test-btn" onclick="playAudio('audio/double.mp3')">åŒæ€</button>
                <button class="test-btn" onclick="playAudio('audio/triple.mp3')">ä¸‰æ€</button>
                <button class="test-btn" onclick="playAudio('audio/quadra.mp3')">å››æ€</button>
                <button class="test-btn" onclick="playAudio('audio/penta.mp3')">äº”æ€</button>
                <button class="test-btn" onclick="playAudio('audio/godlike.mp3')">è¶…ç¥</button>
                <button class="test-btn" onclick="playAudio('audio/wrong.mp3')">åšé”™</button>
                <button class="test-btn" onclick="playAudio('audio/upgrade.mp3')">å‡çº§</button>
                <button class="test-btn" onclick="playAudio('audio/gift.mp3')">è°¢è°¢</button>
                <button class="test-btn" onclick="playAudio('audio/bgm.mp3')">èƒŒæ™¯éŸ³ä¹</button>
            </div>
            <div id="playResult"></div>
        </div>
        
        <!-- è§£å†³æ–¹æ¡ˆ -->
        <div class="section">
            <h2>ğŸ’¡ è¯Šæ–­ç»“æœå’Œè§£å†³æ–¹æ¡ˆ</h2>
            <div id="solution"></div>
        </div>
    </div>

    <script>
        const audioFiles = [
            'correct.mp3',
            'double.mp3',
            'triple.mp3',
            'quadra.mp3',
            'penta.mp3',
            'godlike.mp3',
            'wrong.mp3',
            'upgrade.mp3',
            'gift.mp3',
            'bgm.mp3'
        ];

        // åŸºç¡€æ£€æµ‹
        function checkBasic() {
            const resultDiv = document.getElementById('basicResult');
            let html = '<div class="result-box">';
            
            // æ£€æµ‹æµè§ˆå™¨
            const ua = navigator.userAgent;
            let browser = 'Unknown';
            if (ua.indexOf('Chrome') > -1) browser = 'Chrome';
            else if (ua.indexOf('Safari') > -1) browser = 'Safari';
            else if (ua.indexOf('Firefox') > -1) browser = 'Firefox';
            else if (ua.indexOf('Edge') > -1) browser = 'Edge';
            
            html += `<div class="result-item">æµè§ˆå™¨: ${browser}</div>`;
            
            // æ£€æµ‹åè®®
            const protocol = window.location.protocol;
            html += `<div class="result-item">åè®®: ${protocol} ${protocol === 'https:' ? '<span class="badge ok">å®‰å…¨</span>' : '<span class="badge fail">ä¸å®‰å…¨</span>'}</div>`;
            
            // æ£€æµ‹éŸ³é¢‘æ”¯æŒ
            const audio = new Audio();
            const mp3Support = audio.canPlayType('audio/mpeg');
            html += `<div class="result-item">MP3æ”¯æŒ: ${mp3Support} ${mp3Support ? '<span class="badge ok">æ”¯æŒ</span>' : '<span class="badge fail">ä¸æ”¯æŒ</span>'}</div>`;
            
            // æ£€æµ‹åŸŸå
            html += `<div class="result-item">å½“å‰åŸŸå: ${window.location.hostname}</div>`;
            html += `<div class="result-item">å®Œæ•´URL: ${window.location.href}</div>`;
            
            html += '</div>';
            resultDiv.innerHTML = html;
        }

        // æ£€æµ‹éŸ³é¢‘æ–‡ä»¶
        async function checkAudioFiles() {
            const resultDiv = document.getElementById('fileResult');
            resultDiv.innerHTML = '<div class="status info">æ­£åœ¨æ£€æµ‹éŸ³é¢‘æ–‡ä»¶...</div>';
            
            let html = '<div class="result-box">';
            let successCount = 0;
            let failCount = 0;
            
            for (const file of audioFiles) {
                const url = `audio/${file}`;
                try {
                    const response = await fetch(url, { method: 'HEAD' });
                    if (response.ok) {
                        html += `<div class="result-item">âœ… ${file} <span class="badge ok">å¯è®¿é—®</span></div>`;
                        successCount++;
                    } else {
                        html += `<div class="result-item">âŒ ${file} <span class="badge fail">HTTP ${response.status}</span></div>`;
                        failCount++;
                    }
                } catch (err) {
                    html += `<div class="result-item">âŒ ${file} <span class="badge fail">æ— æ³•è®¿é—®</span></div>`;
                    failCount++;
                }
            }
            
            html += '</div>';
            
            let statusHtml = '';
            if (failCount === 0) {
                statusHtml = `<div class="status success">âœ… æ‰€æœ‰éŸ³é¢‘æ–‡ä»¶æ£€æµ‹é€šè¿‡ï¼(${successCount}/${audioFiles.length})</div>`;
            } else {
                statusHtml = `<div class="status error">âŒ æœ‰ ${failCount} ä¸ªæ–‡ä»¶æ— æ³•è®¿é—®ï¼è¯·æ£€æŸ¥éŸ³é¢‘æ–‡ä»¶æ˜¯å¦ä¸Šä¼ ã€‚</div>`;
            }
            
            resultDiv.innerHTML = statusHtml + html;
            
            // æ›´æ–°è§£å†³æ–¹æ¡ˆ
            updateSolution(failCount);
        }

        // æ’­æ”¾éŸ³é¢‘
        function playAudio(src) {
            const resultDiv = document.getElementById('playResult');
            const audio = new Audio(src);
            
            resultDiv.innerHTML = `<div class="status info">æ­£åœ¨æ’­æ”¾: ${src}</div>`;
            
            audio.play()
                .then(() => {
                    resultDiv.innerHTML = `<div class="status success">âœ… æ’­æ”¾æˆåŠŸ: ${src}</div>`;
                })
                .catch(err => {
                    resultDiv.innerHTML = `<div class="status error">âŒ æ’­æ”¾å¤±è´¥: ${err.message}</div>`;
                });
        }

        // æ›´æ–°è§£å†³æ–¹æ¡ˆ
        function updateSolution(failCount) {
            const solutionDiv = document.getElementById('solution');
            
            if (failCount === 0) {
                solutionDiv.innerHTML = `
                    <div class="status success">
                        <strong>âœ… éŸ³é¢‘æ–‡ä»¶æ£€æµ‹é€šè¿‡ï¼</strong><br><br>
                        å¦‚æœæ¸¸æˆä¸­ä»ç„¶æ²¡æœ‰å£°éŸ³ï¼Œå¯èƒ½åŸå› ï¼š<br>
                        1. æµè§ˆå™¨è‡ªåŠ¨æ’­æ”¾ç­–ç•¥é™åˆ¶ï¼ˆè¿™æ˜¯æ­£å¸¸çš„ï¼Œç™»å½•åç‚¹å‡»é¡µé¢å³å¯ï¼‰<br>
                        2. éŸ³é‡è¢«é™éŸ³ï¼ˆæ£€æŸ¥æ¸¸æˆå†…çš„é™éŸ³æŒ‰é’®ï¼‰<br>
                        3. ç³»ç»ŸéŸ³é‡è¢«å…³é—­ï¼ˆæ£€æŸ¥ç”µè„‘éŸ³é‡ï¼‰<br><br>
                        <strong>è§£å†³æ–¹æ³•ï¼š</strong><br>
                        - ç‚¹å‡»ä¸Šæ–¹ä»»æ„éŸ³æ•ˆæŒ‰é’®æµ‹è¯•<br>
                        - å¦‚æœèƒ½å¬åˆ°å£°éŸ³ï¼Œè¯´æ˜éŸ³æ•ˆç³»ç»Ÿæ­£å¸¸<br>
                        - åœ¨æ¸¸æˆä¸­ç­”é¢˜ååº”è¯¥å°±èƒ½å¬åˆ°éŸ³æ•ˆäº†
                    </div>
                `;
            } else {
                solutionDiv.innerHTML = `
                    <div class="status error">
                        <strong>âŒ æ£€æµ‹åˆ°é—®é¢˜ï¼šéŸ³é¢‘æ–‡ä»¶æœªæ­£ç¡®ä¸Šä¼ </strong><br><br>
                        <strong>è§£å†³æ–¹æ³•ï¼š</strong><br>
                        1. ç¡®è®¤åœ¨æ‰“åŒ…æ—¶åŒ…å«äº† <code>audio/</code> æ–‡ä»¶å¤¹<br>
                        2. é‡æ–°æ‰“åŒ…é¡¹ç›®ï¼ˆç¡®ä¿åŒ…å«æ‰€æœ‰ .mp3 æ–‡ä»¶ï¼‰<br>
                        3. é‡æ–°ä¸Šä¼ éƒ¨ç½²<br>
                        4. å¦‚æœä½¿ç”¨ GitHub éƒ¨ç½²ï¼Œç¡®ä¿ audio æ–‡ä»¶å¤¹å·²æ¨é€åˆ°ä»“åº“<br><br>
                        <strong>éœ€è¦åŒ…å«çš„æ–‡ä»¶ï¼š</strong><br>
                        ${audioFiles.map(f => `- audio/${f}`).join('<br>')}
                    </div>
                `;
            }
        }

        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨æ£€æµ‹
        window.onload = () => {
            console.log('ğŸµ éŸ³æ•ˆè¯Šæ–­å·¥å…·å·²åŠ è½½');
            console.log('è¯·ç‚¹å‡»"å¼€å§‹æ£€æµ‹"æŒ‰é’®è¿›è¡Œè¯Šæ–­');
        };
    </script>
</body>
</html>
