# Git 推送问题解决方案

## 问题诊断

当前有 2 个提交待推送到 GitHub：
1. 限制排行榜显示：班级前20名，年级前90名
2. 实现元素满足条件后自动升级功能

## 解决方案（按顺序尝试）

### 方案 1：使用 GitHub Desktop（最简单）

如果你安装了 GitHub Desktop：

1. 打开 GitHub Desktop
2. 选择 `BBK-G4-math-game` 仓库
3. 点击右上角的 `Push origin` 按钮
4. 完成！

### 方案 2：重新设置远程仓库认证

在 PowerShell 中执行：

```powershell
cd "c:\Users\17227\CodeBuddy\bbk game"

# 清除旧的凭据
git config --unset credential.helper

# 使用新的凭据管理器
git config --global credential.helper manager-core

# 再次尝试推送
git push origin main
```

### 方案 3：使用 Personal Access Token (PAT)

如果方案 2 失败，需要使用 GitHub Token：

#### 第一步：生成 Token

1. 访问 https://github.com/settings/tokens
2. 点击 `Generate new token (classic)`
3. 设置：
   - Note: `BBK Math Game`
   - Expiration: `90 days`
   - 勾选 `repo` 所有选项
4. 点击 `Generate token`
5. **复制生成的 token**（只显示一次！）

#### 第二步：配置并推送

在 PowerShell 中执行：

```powershell
cd "c:\Users\17227\CodeBuddy\bbk game"

# 使用 token 推送（将 YOUR_TOKEN 替换为你的 token）
git push https://YOUR_TOKEN@github.com/TUER93/BBK-G4-math-game.git main
```

### 方案 4：使用 SSH 密钥（长期方案）

#### 生成 SSH 密钥

```powershell
ssh-keygen -t ed25519 -C "1722735907@qq.com"
# 按 Enter 使用默认路径
# 按 Enter 跳过密码（或设置密码）
```

#### 添加到 GitHub

1. 复制公钥：
```powershell
type C:\Users\17227\.ssh\id_ed25519.pub
```

2. 访问 https://github.com/settings/keys
3. 点击 `New SSH key`
4. 粘贴公钥内容
5. 点击 `Add SSH key`

#### 修改远程仓库 URL

```powershell
cd "c:\Users\17227\CodeBuddy\bbk game"

# 切换到 SSH
git remote set-url origin git@github.com:TUER93/BBK-G4-math-game.git

# 推送
git push origin main
```

### 方案 5：直接在 GitHub 网页上传（应急方案）

1. 访问 https://github.com/TUER93/BBK-G4-math-game
2. 点击 `Upload files`
3. 手动拖拽以下修改过的文件：
   - `app.js`
   - `styles.css`
   - `server.js`
   - `render.yaml`
4. 填写提交信息：`实现自动升级和排行榜限制`
5. 点击 `Commit changes`

## 快速测试网络连接

```powershell
# 测试 GitHub 连接
curl https://github.com

# 测试 Git 命令
git ls-remote origin
```

## 常见错误及解决

### 错误 1: `Authentication failed`
**原因**: GitHub 已不支持密码认证
**解决**: 使用方案 3（PAT）或方案 4（SSH）

### 错误 2: `Could not resolve host`
**原因**: 网络问题或 DNS 问题
**解决**: 检查网络连接，或配置代理

### 错误 3: `Permission denied`
**原因**: 没有仓库权限
**解决**: 确认你是仓库所有者

### 错误 4: `fatal: unable to access`
**原因**: 可能被防火墙阻止
**解决**: 使用 SSH（方案 4）或检查代理设置

## 推荐顺序

1. **先尝试方案 1**（如果有 GitHub Desktop）
2. **再尝试方案 2**（重置凭据）
3. **使用方案 3**（PAT，快速有效）
4. **使用方案 4**（SSH，长期方案）
5. **最后使用方案 5**（网页上传，应急）

## 验证推送成功

推送成功后，访问：
https://github.com/TUER93/BBK-G4-math-game/commits/main

应该能看到最新的两个提交。

---

如果所有方案都失败，请告诉我具体的错误信息！
